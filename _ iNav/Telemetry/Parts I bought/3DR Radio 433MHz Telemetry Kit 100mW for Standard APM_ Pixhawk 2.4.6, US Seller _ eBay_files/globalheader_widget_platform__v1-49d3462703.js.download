/* Global Widget Delivery Platform V1 - GlobalHeaderFrontEnd$26.0.0 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("HttpClient",n()):(e=e||self).HttpClient=n()}(this,function(){"use strict";function e(e,n){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r=Object.keys(Object(o)),a=0,s=r.length;a<s;a++){var c=r[a],d=Object.getOwnPropertyDescriptor(o,c);void 0!==d&&d.enumerable&&(t[c]=o[c])}}return t}({assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}).polyfill();var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(){function d(e){this.value=e}function e(o){var r,a;function s(e,n){try{var t=o[e](n),i=t.value;i instanceof d?Promise.resolve(i.value).then(function(e){s("next",e)},function(e){s("throw",e)}):c(t.done?"return":"normal",t.value)}catch(e){c("throw",e)}}function c(e,n){switch(e){case"return":r.resolve({value:n,done:!0});break;case"throw":r.reject(n);break;default:r.resolve({value:n,done:!1})}(r=r.next)?s(r.key,r.arg):a=null}this._invoke=function(i,o){return new Promise(function(e,n){var t={key:i,arg:o,resolve:e,reject:n,next:null};a?a=a.next=t:(r=a=t,s(i,o))})},"function"!=typeof o.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(e){return this._invoke("next",e)},e.prototype.throw=function(e){return this._invoke("throw",e)},e.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}),t=function(){function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}(),d=(Object.assign,function e(n,t,i){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,t);if(void 0===o){var r=Object.getPrototypeOf(n);return null===r?void 0:e(r,t,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0}),o=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},u=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},r=("undefined"==typeof global?self:global,function(){function o(e){f(this,o),this.win=e||window,this.initialize()}return t(o,[{key:"initialize",value:function(){var e,n=this;this.HOST_NAME=this.win.location.hostname,this.IS_LATEST=-1!==this.HOST_NAME.indexOf("latest"),this.IS_PARADISE=-1!==this.HOST_NAME.indexOf("paradise"),this.IS_DEV_MACHINE_HOST=5<this.win.location.origin.lastIndexOf(":")&&-1===n.HOST_NAME.indexOf("lvs")&&-1===n.HOST_NAME.indexOf("slc")&&-1===n.HOST_NAME.indexOf("phx"),this.ENV=(e=i(n.win.GH)!==o.TYPE_UNDEFINED&&i(n.win.GH.C)!==o.TYPE_UNDEFINED&&n.win.GH.C.env||o.ENV_ENUM.PRODUCTION,n.IS_DEV_MACHINE_HOST&&(e=o.ENV_ENUM.DEV),e),this.URL_QUERY_MAP=function(e){var t={},n=e.split("?");2===n.length&&n[1].split("&").forEach(function(e){var n=e.split("=");n&&2===n.length&&n[0]&&n[1]&&(t[n[0]]=n[1])});return t}(this.win.location.search)}},{key:"sanitizeRequestUrlByEnv",value:function(e){if(e){var n=this.win.location.origin;return this.ENV!==o.ENV_ENUM.STAGING&&this.ENV!==o.ENV_ENUM.FEATURE&&this.ENV!==o.ENV_ENUM.SANDBOX&&this.ENV!==o.ENV_ENUM.DEV||this.IS_PARADISE?this.ENV!==o.ENV_ENUM.PREPROD||this.IS_LATEST||(n=o.LATEST):n=o.QA,this.URL_QUERY_MAP._ghpool&&this.ENV!==o.ENV_ENUM.PRODUCTION&&(n=decodeURIComponent(this.URL_QUERY_MAP._ghpool)),this.ENV===o.ENV_ENUM.PRODUCTION&&o.DOMAIN_REGEX_CHECK.test(this.HOST_NAME)&&(n=this.getProductionEnvUrl()),n+=e}}},{key:"getProductionEnvUrl",value:function(){var e="",n="",t=this.HOST_NAME;t.match(o.DUAL_TLD_REGEX_CHECK)&&(t=t.replace(o.DUAL_TLD_REGEX_CHECK,function(e){return n=e,""}));var i=t.split(".");return e=(i=this.buildProductionUrl(i)).length?(0===i.indexOf("ebay")&&-1===i.indexOf("www")&&i.unshift("www"),i=i.join("."),""!==n.trim()&&(i+=n),"https://"+i):(console.debug("Not a valid TLD"),""),console.debug("Updated xhrRequestURL = "+e),e}},{key:"buildProductionUrl",value:function(e){for(var n=[];e.length;){var t=e[0];-1===o.WHITELISTED_DOMAIN_PREFIXES.indexOf(t)&&-1===o.WHITELISTED_TLDS.indexOf(t)?e.shift():-1!==o.WHITELISTED_TLDS.indexOf(t)&&-1===n.indexOf("ebay")?e.shift():n.push(e.shift())}return n}},{key:"addQueryParam",value:function(e){var r=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign({},this.URL_QUERY_MAP);return(a=Object.assign(a,n))._showdiag=a._showdiag&&"1"===a._showdiag?a._showdiag:void 0,(e=o.ALLOWED_QUERY_PARAMS.reduce(function(e,n){var t=n.name,i=a[t];if(i&&n.denied!==r.ENV){var o=-1<e.indexOf("?")?"&":"?";e=e+o+t+"="+encodeURIComponent(i)}return e},e)).replace(/[^=&]+=(&|$)/g,"").replace(/&$/,"").replace(/\?$/,"")}}],[{key:"TYPE_UNDEFINED",get:function(){return"undefined"}},{key:"ENV_ENUM",get:function(){return{PRODUCTION:"production",DEV:"dev",PREPROD:"preprod",STAGING:"staging",FEATURE:"feature",SANDBOX:"sandbox"}}},{key:"QA",get:function(){return"https://www.qa.ebay.com"}},{key:"LATEST",get:function(){return"https://www.latest.ebay.com"}},{key:"ROUTE_REGEX_CHECK",get:function(){return/(www\.)?(.*)\.ebay\.(com|com.au|at|be|ca|cn|fr|de|com.hk|in|ie|it|co.jp|com.my|nl|ph|pl|com.sg|es|se|ch|com.tw|co.th|co.uk|vn)/i}},{key:"DOMAIN_REGEX_CHECK",get:function(){return/(www\.)?(.*)\.ebay\.(com|com.au|at|be|ca|cn|fr|de|com.hk|in|ie|it|co.jp|com.my|nl|ph|pl|com.sg|es|se|ch|com.tw|co.th|co.uk|vn)$/i}},{key:"DUAL_TLD_REGEX_CHECK",get:function(){return/[\.]{1}(com.au|com.hk|co.jp|com.my|com.sg|com.tw|co.th|co.uk)$/i}},{key:"ALLOWED_QUERY_PARAMS",get:function(){return[{name:"_showdiag",denied:""},{name:"correlation",denied:""},{name:"mock",denied:o.ENV_ENUM.PRODUCTION},{name:"scenario",denied:o.ENV_ENUM.PRODUCTION},{name:"show_optin_banner",denied:""},{name:"behavior",denied:""},{name:"moduleType",denied:""},{name:"phone_number",denied:""},{name:"authentication_code",denied:""},{name:"country_code",denied:""},{name:"supportedUxComponentNames",denied:""},{name:"resend",denied:""},{name:"SSRFallback",denied:""},{name:"critical",denied:""},{name:"modules",denied:""},{name:"onDemand",denied:""},{name:"rawResponse",denied:""},{name:"booster_activation_key",denied:""},{name:"srt",denied:""}]}},{key:"WHITELISTED_DOMAIN_PREFIXES",get:function(){return["www","m","ebay","benl","befr","cafr"]}},{key:"WHITELISTED_TLDS",get:function(){return["com","com.au","at","be","ca","cn","fr","de","com.hk","in","ie","it","co.jp","com.my","nl","ph","pl","com.sg","es","se","ch","com.tw","co.th","co.uk","vn"]}}]),o}()),a=function(e){function c(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:JSON.stringify({}),o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},r=arguments[5];f(this,c);var a=r||("undefined"!=typeof window?window:{});n=n.toUpperCase();var s=u(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));return s.ctx=a,s.shouldRetry=o.shouldRetry||!1,s.timeout=o.timeout||c.MAX_TIMEOUT,s.hasFullXhrUrl=o.hasFullXhrUrl||!1,s.queryParamObj=t,s.method=-1!==c.ALLOWED_METHODS.indexOf(n)?n:"GET",s.route=e,s.async=!0,"boolean"==typeof o.async&&!1===o.async&&(s.async=!1),s.hasFullXhrUrl?(s.baseUrl="",s.requestUrl=d(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"addQueryParam",s).call(s,s.route,s.queryParamObj)):(s.baseUrl=d(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"sanitizeRequestUrlByEnv",s).call(s,s.route),s.requestUrl=d(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"addQueryParam",s).call(s,s.baseUrl,s.queryParamObj)),s.payload=i,s.retries=0,s}return o(c,r),t(c,[{key:"handlers",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.handlers=e,this}},{key:"delay",value:function(e,n){setTimeout(e.bind(this),n)}},{key:"maybeRetry",value:function(){var e=this;if(this.shouldRetry){if(this.retries>=c.MAX_RETRIES)return;this.retries++,this.delay(function(){e.initializeAndTrigger()},this.retryTimeout)}}},{key:"initializeAndTrigger",value:function(){var n,t=this;try{this.xhr=new XMLHttpRequest;var e=this.ctx.location&&this.ctx.location.hostname;(this.hasFullXhrUrl&&r.ROUTE_REGEX_CHECK.test(this.route)||!this.hasFullXhrUrl&&r.DOMAIN_REGEX_CHECK.test(e))&&(this.xhr.withCredentials=!0),this.xhr.open(this.method,this.requestUrl,this.async),this.async&&(this.xhr.timeout=this.timeout),this.xhr.setRequestHeader("Content-Type","text/plain");var i=this.shouldRetry?(n=this,function(e){e instanceof ProgressEvent&&n.maybeRetry(n)}):c.NOOP;c.DEFAULT_XHR_EVENTS.forEach(function(e){var n=-1!==c.DEFAULT_RETRY_EVENTS.indexOf(e);t.xhr[e]=t.handlers[e]||(n?i:c.NOOP)}),this.xhr.send(this.payload)}catch(e){console.debug("Global HTTPClient requests failing",e)}}},{key:"retryTimeout",get:function(){return Math.min(c.MAX_TIMEOUT,100*(2^this.retries))}}],[{key:"ALLOWED_METHODS",get:function(){return["GET","POST","HEAD"]}},{key:"NOOP",get:function(){return function(){}}},{key:"MAX_TIMEOUT",get:function(){return 5e3}},{key:"MAX_RETRIES",get:function(){return 1}},{key:"DEFAULT_XHR_EVENTS",get:function(){return["onload","onloadstart","onloadend","onprogress","onreadystatechange","onerror","onabort","ontimeout"]}},{key:"DEFAULT_RETRY_EVENTS",get:function(){return["onerror","onabort","ontimeout"]}}]),c}();!function(){var t=document.fonts,e="font-marketsans",n="https://ir.ebaystatic.com/cr/v/c1/vendor/fontfaceobserver.js";function i(){try{localStorage.setItem("ebay-font",e)}catch(e){}}function o(){!function(){var e=t&&t.load;if(e&&/Apple/.test(window.navigator.vendor)){var n=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);e=!(n&&parseInt(n[1],10)<603)}return e}()?function(e,n){var t=document.createElement("script");t.type="application/javascript",t.async=!0,t.onload=n,t.src=e,document.documentElement.firstChild.appendChild(t)}(n,function(){var e=new FontFaceObserver("Market Sans"),n=new FontFaceObserver("Market Sans",{weight:"bold"});Promise.all([e.load(),n.load()]).then(i)}):(t.load("1em Market Sans"),t.load("bold 1em Market Sans"),t.ready.then(i))}"fontDisplay"in document.documentElement.style||localStorage&&localStorage.getItem("ebay-font")===e||window.addEventListener("load",function(){requestAnimationFrame?requestAnimationFrame(o):o()})}();var c={DATA_MISSING:"dataMissing",TYPE_MISMATCH:"typeMismatch"},l=void 0;function h(e){return Array.isArray(e)?"array":null===e?"null":void 0===e?"undefined":i(e)}function p(e){return"string"==typeof e&&(e=e.split(".").join(",").replace(/\[\d\]/g,function(e){return e=","+(e=e.replace(/[\[\]']+/g,""))}).split(",")),e}function m(e,n){return n.reduce(function(e,n){return e&&void 0!==e[n]?e[n]:void 0},e)}function s(e,n,t){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"warn",o=void 0,r=m(e,n=p(n)),a=h(r),s=h(t);return"undefined"===s?(t="",s="string"):"object"===s&&function(e){if(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}}(t)&&(t={__isEmpty:!0}),"undefined"!==a?a!==s&&(o=c.TYPE_MISMATCH,r=t):(o=c.DATA_MISSING,r=t),l&&i&&o&&function(e,n,t,i){l[i]&&l[i]("event: %s, path: %s, default: %s",e,n,t)}(o,n,t,i),r}var y={has:function(e,n){var t=m(e,n=p(n)),i=h(t);return t=!("undefined"===i||"null"===i)},get:function(e,n,t){return s(e,n,t)},need:function(e,n,t,i){return s(e,n,t,i)},setLogger:function(e){l=e}},v={EVENT_TYPES:c};y.privates=v;!function(){if("undefined"!=typeof Element){var e=function(){var e=document.createElement("div"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var t in n)if(void 0!==e.style[t])return n[t]}()}}();if("undefined"!=typeof Element)for(var E=["matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],g=0;g<E.length;g++){var w=E[g];if(Element.prototype[w]){w;break}}var _=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window;return"requestAnimationFrame"in n?n.requestAnimationFrame(e):n.setTimeout(e,0)},b=function(){function r(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document;f(this,r),this.doc=i,this.cb=t,this.js=e,this.jsSize=this.js&&this.js.length,this.css=n,this.cssSize=this.css&&this.css.length;var o=(i.body||i.getElementsByTagName("head")[0]).childNodes;this.ref=o[o.length-1]}return t(r,[{key:"init",value:function(){var e=this;this.js&&this.css?this.loadJS(this.js,function(){return e.loadCSS(e.css)}):this.cb()}},{key:"loadJS",value:function(e,n){var t=this;if(e)if(Array.isArray(e))e.forEach(function(e){t.loadJS(e,n)});else{var i=this.doc.createElement("script");i.defer=!0,i.src=e,i.type="text/javascript";i.addEventListener("load",function e(){i.addEventListener&&i.removeEventListener("load",e),t.jsSize--,t.jsSize<=0&&n()}),this.ref.parentNode.insertBefore(i,this.ref.nextSibling)}}},{key:"loadCSS",value:function(e){var n=this;if(e)if(Array.isArray(e))e.forEach(function(e){n.loadCSS(e)});else{var t=this.doc.createElement("link");t.rel="stylesheet",t.href=e,t.media="temp";t.addEventListener("load",function e(){t.addEventListener&&t.removeEventListener("load",e),t.media="all",n.cssSize--,n.cssSize<=0&&n.cb()}),this.ref.parentNode.insertBefore(t,this.ref.nextSibling)}}}]),r}(),T=_,S="gh_user",O=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=[],i=[];return Array.prototype.forEach.call(e,function(e){"nb_script"===e.id?(n&&(e.id=n),t.push(e.innerHTML)):i.push(e.innerHTML)}),t.concat(i)},A={initAndRenderWidgets:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.hasEncodedHtml,s=void 0===n||n,t=e.js,i=e.css,o=e.jsInline,c=void 0===o?"":o;new b(t,i,function(){var e=document.getElementById(S)||function(){var e=document.createElement("div");return e.id=S,e.style.display="none",document.body.appendChild(e),e}(),n=a.reduce(function(e,n){return e+(s?decodeURI(n.html):n.html)},"");e.innerHTML+=n;var t=e.querySelectorAll("script"),i=O(t),o=a.map(function(e){return e.init}),r="";c&&(r=function(e){return e.slice(e.indexOf(">")+1,e.lastIndexOf("<")).trim()}(s?decodeURI(c):c)),function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,t=n.createTextNode(e),i=n.createElement("script");i.appendChild(t),T(function(){return n.body.appendChild(i)})}(o.join(" ; ").concat(" ; ").concat(i).concat(" ; ").concat(r)),"function"==typeof window.markoDynamicInitComponents&&window.markoDynamicInitComponents()}).init()},initAndRenderOnDemandWidgets:function(e,n){var t="",i=document.createElement("div"),o=document.getElementById("widgets-placeholder");i.classList.add("on-demand-widgets-placeholder"),i.innerHTML+=e,o.appendChild(i),o.style.display="block";var r=i.querySelectorAll("script");r&&0<r.length&&(t=O(r,"nb_ondemand_script"));var a=document.createElement("script");a.classList.add("on-demand-scripts"),a.type="text/javascript",a.appendChild(document.createTextNode(t)),document.body.appendChild(a),"function"==typeof window.markoInitComponents&&window.markoInitComponents(n)}},I={HOLDER_ID:S};A.privates=I;var N=y.need,k=A.initAndRenderWidgets,R=A.initAndRenderOnDemandWidgets,D=function(e){"complete"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).readyState?e():window.addEventListener("load",e)},U=function(e){var n=e.renderedComponents,t=e.html,i=e.content,o=e.js,r=e.css,a=e.jsInline,s=e.onDemand,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k;1===s?R(t,n):(window.widget_platform_renderedComponents=n,c([{html:t||i,init:""}],{hasEncodedHtml:!1,js:o,css:r,jsInline:a}))},C=function(e){var n=window.widget_platform_ondemandUASDoneEventType;n&&(document.dispatchEvent(new CustomEvent(n,{detail:N(e,"content.response.modules",{})})),delete window.widget_platform_ondemandUASDoneEventType)},M=function(e){var n=e.renderType,t=e.renderDelay,i=e.widgets,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,a=i&&i[0],s=a&&a.js,c=a&&a.css,d=a&&a.jsInline;1===n?o(i,{js:s,css:c,jsInline:d}):2===n?D(function(){return o(i,{js:s,css:c,jsInline:d})},r):function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document;D(function(){window.setTimeout(n,e)},t)}(t,function(){return o(i,{js:s,css:c,jsInline:d})},r)},P=function(){function l(e){var n=e.widgetResponse,t=void 0===n?{}:n,i=e.onFallback,o=e.initializer,r=void 0===o?M:o;f(this,l);var a=t.widgets,s=t.queryParam,c=t.triggerFallBack,d=t.renderType,u=t.renderDelay;this.props={widgets:a||[],queryParam:s||{},triggerFallBack:void 0===c||c,onFallback:i,initializer:r,renderType:d,renderDelay:u}}return t(l,[{key:"initializeWidgets",value:function(){var e=this.props,n=e.widgets;(0,e.initializer)({widgets:n,renderType:e.renderType,renderDelay:e.renderDelay})}},{key:"handleFallback",value:function(){var e=this.props,n=e.queryParam;(0,e.onFallback)(n)}},{key:"init",value:function(){this.props.triggerFallBack?this.handleFallback():this.initializeWidgets()}}]),l}(),j=function(){var e=!1;return"serviceWorker"in navigator&&"Notification"in window&&(e="default"===Notification.permission),e},L=y.has,x=y.get,H="X_EBAY_C_CORRELATION_SESSION",F="raptor.require",V="trkCorrelationSessionInfo.getTrackingCorrelationSessionInfo",q={readRaptorContext:function(){if(L(window,F))return x(window,F,function(){})("ebay.context.Context")},extractSessionInfo:function(){if(L(window,V))return x(window,V,function(){})()},addSessionInfoIntoPage:function(e){window.trkCorrelationSessionInfo={},window.trkCorrelationSessionInfo.getTrackingInfo=function(){return JSON.parse(JSON.stringify(e))},window.trkCorrelationSessionInfo.getTrackingCorrelationSessionInfo=function(){return e[H]}}},X=j,G=function(e){var n=q.extractSessionInfo(),t={},i=null;if(n)return n;try{i=q.readRaptorContext()}catch(e){i=null}var o=i&&i.pid;return o||(e=e||window,o=x(e,"GH.C.pageId",0)),o?(t[H]="operationId="+o,q.addSessionInfoIntoPage(t),t[H]):null},z=U,W=C,Y=function(){var e=function(e){return"undefined"!==i(e.GH)&&e.GH&&"function"==typeof e.GH.getWidgetDeliveryPlatform&&e.GH.getWidgetDeliveryPlatform()}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window),n=e&&e.base_path,t=e&&e.new_buyer_acquistion;return n&&t?n+t:"/gh/useracquisition"},B=function(e){var n=function(e){if(e instanceof ProgressEvent){var n=e.target||e.currentTarget;if(n instanceof XMLHttpRequest)return n.responseText}}(e);if(n)try{var t=n&&JSON.parse(n);(t.rawResponse?W:z)(t)}catch(e){console.debug("Unable to parse Response",e)}},Q=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=n.route||Y(),t=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={correlation:G(),show_optin_banner:X()};return Object.assign(n,e)}(n),i=n.method||"GET",o=JSON.stringify(n.body)||"",r={shouldRetry:!1,timeout:1e4};return n.route&&(r.hasFullXhrUrl=!0),new a(e,i,t,o,r,window).handlers({onload:B,onerror:function(e){return function(e){(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).rawResponse&&W(e),console.debug("useracquisition request has failed!",e)}(e,n)}})},K=window.widget_platform,J=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Q(e).initializeAndTrigger()};return document&&document.addEventListener&&document.addEventListener("widget-platform-ondemand-uas-request",function(e){!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};window&&e.widgetPlatformOndemandUASDoneEventType&&(window.widget_platform_ondemandUASDoneEventType=e.widgetPlatformOndemandUASDoneEventType),e.onDemand=1,J(e)}(e&&e.detail)},!1),new P({widgetResponse:K,onFallback:J}).init(),function(){if("undefined"!=typeof window&&"function"==typeof window.define&&window.define.amd)window.HttpClient=a}(),a});
/* Delivered by Global Header, ISPROD=true */
